# javaGym

A simple REST application for gym classes reservation and admin management, written in Java.

## Built With

* Java 1.8 
* Spring Boot 2.1.5
    * Spring Security
    * Spring Web Starter
    * Spring Data JPA
* MySQL 8.0 database
* Maven 
* Swagger 2.9.2

## IDE environment

* IntelliJ Idea Ultimate

## What to do to run the application:

1. Download the project from: https://github.com/HorabikJ/javaGym
2. Open the project in IntelliJ Idea Ultimate and import all Maven dependencies.
3. Create schema "javaGym" in MySQL 8.0 database.
4. Change the values of "spring.datasource.username" and "spring.datasource.password" in 
    application.properties file for your database username and password.
5. Run the application and visit: http://localhost:8080/swagger-ui.html to see REST API documentation for this project generated by Swagger.
    Use below super admin credentials to log in to the application:
    login: super@javagym.pl
    password: 12345
     
## A little more about the application:
    
*  Access to application resources is based on the user role. 
    * Guest - unauthorized user
    * User - application customer
    * Admin - application admin
    * Super - super admin
    
* Guest can do:
    * see all training classes for next 2 weeks
    * see all instructors and training types
    * see all training classes for given instructor or training type
    * register as a user
    
* Admin can do:
    * register new admin
    * delete any regular user or set his account as inactive
    * send newsletter to all users with newsletter consent
    * send new account activation email to any user
    * see all users and admins and search for them by email and name
    
    * add, delete and update any training type
    
    * add, delete and update any instructor
    * send an email to any instructor

    * add, delete and update any training class
    * see all users reservations for any training class
    
* Super Admin can do:
    * delete any regular admin or user account
    * set any regular admin or user account as inactive
    
## Email service in application

* After registration, user receives an email with unique account activation link, that is valid for next 30 minutes and is clickable only once.
If user will not click the link within given time, he can ask admin to send him a new activation link.

* User can reset his password, to do it he has to provide his valid email that is in application database and then he will receive an email with
link to the reset password website, this link also will be valid for next 30 minutes. If password is successfully reset, the reset password link expires.

* User can change his email address in his account, to do so he has to request the change and confirmation email will be sent to new email given by user.
The change will be done after the confirmation link is clicked by user.

* Classes reservation email service:
    * For every training class reservation, user receives an email with reservation confirmation and training class details.
    * For every cancellation of reservation, user receives an email with confirmation of this action.
    * If training class is fully booked, user can make a reservation but he will be moved to awaiting list.
    If enough reservations from proper reservation list will be freed, user automatically will be moved from
    awaiting list to reservation list and at the moment of this action an email with confirmation will be sent to user.
